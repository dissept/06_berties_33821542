<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title><%= title %></title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2rem;
      background: #f5f7fb;
    }
    h1 {
      margin-bottom: 1rem;
    }
    form {
      margin-bottom: 1.5rem;
      padding: 1rem;
      background: #ffffff;
      border-radius: 8px;
      box-shadow: 0 0 4px rgba(0,0,0,0.1);
    }
    label {
      font-weight: bold;
    }
    input[type="text"] {
      padding: 0.4rem;
      min-width: 220px;
      margin-left: 0.5rem;
    }
    button {
      padding: 0.4rem 0.8rem;
      margin-left: 0.5rem;
      cursor: pointer;
      border-radius: 4px;
      border: 1px solid #444;
      background: #fff;
    }
    .result, .error {
      padding: 1rem;
      border-radius: 8px;
      margin-top: 1rem;
      background: #ffffff;
      box-shadow: 0 0 4px rgba(0,0,0,0.1);
    }
    .error {
      border-left: 4px solid #e53935;
      color: #e53935;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>Weather forecast</h1>

  <form method="get" action="/weather">
    <label for="city">Enter city name:</label>
    <input
      type="text"
      id="city"
      name="city"
      placeholder="e.g. London,uk"
      required
    >
    <button type="submit">Get weather</button>
  </form>

  <% if (error) { %>
    <div class="error"><%= error %></div>
  <% } %>

  <% if (weather) { %>
    <div class="result">
      <p>
        It is <strong><%= weather.temp %>°C</strong> in
        <strong><%= weather.city %></strong>.
      </p>
      <p>
        Feels like: <%= weather.feelsLike %>°C<br>
        Conditions: <%= weather.description %><br>
        Humidity: <%= weather.humidity %>%
      </p>

      <% if (weather.windSpeed !== null) { %>
        <p>
          Wind speed: <%= weather.windSpeed %> m/s
          <% if (weather.windDeg !== null) { %>
            (direction: <%= weather.windDeg %>°)
          <% } %>
        </p>
      <% } %>
    </div>
  <% } %>

  <p><a href="/">Back to home</a></p>
</body>
</html>
